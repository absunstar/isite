app.directive("iControl",function(){return{restrict:"E",require:"ngModel",scope:{v:"@",id2:"@",label:"@",type:"@",class2:"@",disabled:"@",ngModel:"=",ngChange:"&",ngKeydown:"&"},link:function(e,t,i,n){i.type=i.type||"text",e.id2=e.id2||"input_"+Math.random().toString().replace("0.",""),e.v=e.v||"",e.requird="",e.v.like("*r*")&&(e.requird="*"),void 0!==i.disabled?i.disabled="disabled":i.disabled="",e.class2=e.class2||""},template:"/*##client-side/directive/i-control.html*/"}}),app.directive("iTextarea",function(){return{restrict:"E",require:"ngModel",scope:{v:"@",label:"@",id2:"@",disabled:"@",rows:"@",ngModel:"=",ngChange:"&"},link:function(e,t,i,n){void 0!==i.disabled?i.disabled="disabled":i.disabled="",e.rows=e.rows||10,e.id2=e.id2||"input_"+Math.random().toString().replace("0.",""),$(t).find("textarea").focus(()=>{$(".popup").hide()})},template:"/*##client-side/directive/i-textarea.html*/"}}),app.directive("iContent",function(e,t){return{restrict:"E",scope:{v:"@",label:"@",id2:"@",disabled:"@",rows:"@",ngModel:"=",ngChange:"&"},link:function(i,n,a,l){void 0!==a.disabled?a.disabled="disabled":a.disabled="",i.stopReading=!1,i.rows=i.rows||10,i.id2=i.id2||"textarea_"+Math.random().toString().replace("0.",""),$(n).find("textarea").id=i.id2,$(n).find("textarea").focus(()=>{$(".popup").hide()}),i.handelContentElement=function(){if(!document.querySelector("#"+i.id2))return e(()=>{i.handelContentElement()},1e3),!1;window["content_"+i.id2]=WebShareEditor.create(i.id2,{toolbarItem:[["undo","redo"],["font","fontSize","formatBlock"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["fontColor","hiliteColor"],["outdent","indent"],["align","horizontalRule","list","table"],["link","image","video"],["preview","print"]],width:"100%",minHeight:"300px"}),i.ngModel&&window["content_"+i.id2]&&window["content_"+i.id2].setContents(i.ngModel),i.readingNow()},i.readingNow=function(){i.intravalReading=t(()=>{window["content_"+i.id2]&&(i.ngModel2=window["content_"+i.id2].getContents(),i.ngModel!==i.ngModel2&&(i.ngModel=i.ngModel2,i.changed()))},1e3)},i.handelContentElement(),i.changed=function(){e(()=>{i.ngChange&&i.ngChange()},100)},i.$watch("ngModel",e=>{clearInterval(i.intravalReading),e&&window["content_"+i.id2]&&i.ngModel2&&i.ngModel!==i.ngModel2&&(i.ngModel=e,window["content_"+i.id2].setContents(i.ngModel)),i.readingNow()})},template:"/*##client-side/directive/i-content.html*/"}}),app.directive("iCheckbox",function(e){return{restrict:"E",require:"ngModel",scope:{label:"@",id2:"@",ngDisabled:"@",ngModel:"=",ngChange:"&"},link:function(t,i,n,a){t.id2=t.id2||"input_"+Math.random().toString().replace("0.",""),t.changed=function(){e(()=>{t.ngChange&&t.ngChange()},100)}},template:"/*##client-side/directive/i-checkbox.html*/"}}),app.directive("iRadio",function(e){return{restrict:"E",require:"ngModel",scope:{label:"@",group:"@",id2:"@",ngValue:"@",ngModel:"=",ngChange:"&"},link:function(t,i,n,a){void 0!==n.disabled?n.disabled="disabled":n.disabled="",t.group=t.group||n.ngModel.replaceAll(".","_"),t.id2=t.id2||"input_"+Math.random().toString().replace("0.",""),t.changed=function(){e(()=>{t.ngChange&&t.ngChange()},100)}},template:"/*##client-side/directive/i-radio.html*/"}}),app.directive("iButton",["$interval","$timeout",function(e,t){return{restrict:"E",scope:{label:"@",type:"@",class2:"@",loading:"@",click:"&",fa:"@"},link:function(e,i,n,a){e.type=e.type||"",e.class=e.class="btn-light",e.fa=e.fa||e.label?"":"fas fa-mouse-pointer",e.type.like("*add*|*new*")?(e.fa="fas fa-plus",e.class="btn-primary"):e.type.like("*update*|*edit*")?(e.fa="fas fa-edit",e.class="btn-warning"):e.type.like("*save*")?(e.fa="fas fa-save",e.class="btn-success"):e.type.like("*list*")?(e.fa="fas fa-list",e.class="btn-info"):e.type.like("unapprove")?(e.fa="fas fa-eject",e.class="btn-danger"):e.type.like("approve")?(e.fa="fas fa-check-double",e.class="btn-primary"):e.type.like("*view*|*details*|*show*")?(e.fa="fas fa-eye",e.class="btn-info"):e.type.like("*delete*|*remove*|*clear*")?(e.fa="fas fa-trash",e.class="btn-danger"):e.type.like("*exit*|*close*")?(e.fa="fas fa-times-circle",e.class="btn-danger"):e.type.like("*print*")?(e.fa="fas fa-print",e.class="btn-secondary"):e.type.like("*export*|*excel*")?(e.fa="fas fa-file-export",e.class="btn-light"):e.type.like("*import*")?(e.fa="fas fa-file-upload",e.class="btn-light"):e.type.like("*search*|*find*")?(e.fa="fas fa-search",e.class="btn-light"):e.type.like("*login*|*signin*")?(e.fa="fas fa-sign-in-alt",e.class="btn-light"):e.type.like("*logout*|*signout*")?(e.fa="fas fa-sign-out-alt",e.class="btn-light"):e.type.like("*push*")?(e.fa="fas fa-plus-circle",e.class="btn-primary"):e.type.like("*cancel*")?(e.fa="fas fa-minus-circle",e.class="btn-danger"):e.type.like("*upload*")?(e.fa="fas fa-upload",e.class="btn-light"):e.type.like("*up*")?(e.fa="fas fa-long-arrow-alt-up",e.class="btn-light"):e.type.like("*down*")?(e.fa="fas fa-long-arrow-alt-down",e.class="btn-light"):e.type.like("*reset*")?(e.fa="fas fa-sync-alt",e.class="btn-light"):e.type.like("*stop*")?(e.fa="fas fa-stop",e.class="btn-light"):e.type.like("*play*")?(e.fa="far fa-play-circle",e.class="btn-light"):e.type.like("*copy*")&&(e.fa="fas fa-copy",e.class="btn-light"),e.type.like("*default*")&&(e.class=""),e.class2&&(e.class=e.class2),e.onclick=function(){e.clickBusy=!0,t(()=>{e.clickBusy=!1},250)},e.$watch("loading",t=>{e.busy="true"===t})},template:"/*##client-side/directive/i-button.html*/"}}]),app.directive("iList",["$interval","$timeout","isite",function(e,t,i){return{restrict:"E",require:"ngModel",scope:{v:"@",label:"@",display:"@",display2:"@",disabled:"@",css:"@",space:"@",primary:"@",ngValue:"@",ngModel:"=",ngSearch:"=",ngChange:"&",ngGet:"&",ngAdd:"&",items:"=",activeValue:"="},link:function(e,n,a,l){e.primary=e.primary||"id",e.display=e.display||"name",e.display2=e.display2||"",e.space=e.space||" - ",a.ngValue=a.ngValue||"",e.v=e.v||"",e.requird="",e.v.like("*r*")&&(e.requird="*"),$(n).on("click",e=>{e.stopPropagation(),e.preventDefault()}),e.searchElement=$(n).find(".dropdown .search input"),e.popupElement=$(n).find(".dropdown .dropdown-content");let d=$(n).find("input.dropdown-text");$(d).click(t=>{e.popupElement.css("display","block")}),e.hide=function(){e.popupElement.css("display","none")},e.focus=function(){$(".dropdown-content").css("display","none"),e.popupElement.css("display","block"),e.searchElement.focus()},void 0!==a.disabled?a.disabled="disabled":a.disabled="",void 0===a.ngAdd?e.fa_add="fa-search":e.fa_add="fa-plus",e.showSearch=!1,void 0===a.ngSearch?e.showSearch=!1:e.showSearch=!0,void 0!==a.ngSearch&&a.ngSearch&&(e.showSearch=!0),void 0!==a.ngGet&&a.ngGet&&(e.showSearch=!0),e.getValue=function(t){let n=i.getValue(t,e.display);return n||""},e.getValue2=function(t){return e.display2&&i.getValue(t,e.display2)||""},e.getNgModelValue=function(t){return t&&e.display&&e.ngValue?i.getValue(t,e.display.replace(e.ngValue+".",""))||"":t&&e.display&&i.getValue(t,e.display)||""},e.getNgModelValue2=function(t){return t&&e.display2&&e.ngValue?i.getValue(t,e.display2.replace(e.ngValue+".",""))||"":t&&e.display2&&i.getValue(t,e.display2)||""},e.getNgValue=function(t){return t&&e.ngValue?i.getValue(t,e.ngValue):t},e.$watch("items",t=>{d.val(""),t&&t.forEach(t=>{if(e.display2){let i=e.getValue(t);i&&(i+=e.space),i+=e.getValue2(t),t.$display=i}else t.$display=e.getValue(t)}),t&&e.ngModel&&t.forEach(t=>{if(i.getValue(t,e.primary)==i.getValue(e.ngModel,e.primary)){if(e.ngModel=t,e.display2){let i=e.getValue(t);i&&(i+=e.space),i+=e.getValue2(t),t.$display=i}else t.$display=e.getValue(t);d.val(t.$display)}})}),e.$watch("ngModel",t=>{if(d.val(""),e.ngModel=t,t)if(e.display2){let i=e.getNgModelValue(t);i&&(i+=e.space),i+=e.getNgModelValue2(t),d.val(i)}else d.val(e.getNgModelValue(t))}),e.searchElement.on("input",()=>{t(()=>{a.ngGet?e.ngGet({$search:e.searchElement.val()}):e.$filter=e.searchElement.val()},100)}),e.updateModel=function(i){if(i)if(e.ngModel=e.getNgValue(i,e.ngValue),e.display2){let t=e.getNgModelValue(e.ngModel);t&&(t+=e.space),t+=e.getNgModelValue2(e.ngModel),d.val(t)}else d.val(e.getNgModelValue(e.ngModel));else e.ngModel=null,d.val("");t(()=>{e.ngChange&&e.ngChange()},100),e.hide()}},template:"/*##client-side/directive/i-list.html*/"}}]),app.directive("iChecklist",["$interval","$timeout",function(e,t){return{restrict:"E",required:"ngModel",scope:{label:"@",primary:"@",display:"@",class2:"@",ngModel:"=",items:"=",like:"&",ngChange:"&"},link:function(e,i,n,a){e.primary=e.primary||"id",e.display=e.display||"name",e.class2=e.class2||"col3",e.selectedItems=[],e.$watch("ngModel",t=>{e.reload()}),e.$watch("items",t=>{e.reload()}),e.reload=function(){e.selectedItems=[],e.ngModel&&(e.ngModel.forEach(t=>{e.selectedItems.push(t)}),e.items&&e.items.forEach(t=>{let i=!1;e.selectedItems.forEach(n=>{t[e.primary]===n[e.primary]&&(i=!0)}),t.$selected=!!i})),e.ngModel||(e.selectedItems=[],e.items&&e.items.forEach(e=>{e.$selected=!1}))},e.change=function(i){if(i.$selected){let t=!1;if(e.selectedItems.forEach(n=>{n[e.primary]===i[e.primary]&&(t=!0)}),!t){let t={...i};delete t.$selected,delete t.$$hashKey,e.selectedItems.push(t)}}else e.selectedItems.forEach((t,n)=>{t[e.primary]===i[e.primary]&&e.selectedItems.splice(n,1)});e.ngModel=e.selectedItems,t(()=>{e.ngChange&&e.ngChange()},100)}},template:"/*##client-side/directive/i-checklist.html*/"}}]),app.directive("iDate",function(e){return{restrict:"E",required:"ngModel",scope:{v:"@",id2:"@",label:"@",type:"@",class2:"@",disabled:"@",ngModel:"=",ngChange:"&",ngKeydown:"&"},link:function(e,t,i){e.id2=e.id2||"input_"+Math.random().toString().replace("0.",""),e.v=e.v||"",e.requird="",e.v.like("*r*")&&(e.requird="*"),void 0!==i.disabled?i.disabled="disabled":i.disabled="",e.class2=e.class2||"",e.model={},e.lang=site.session?site.session.language.id:"En","Ar"===e.lang?e.monthes=[{id:0,name:"يناير"},{id:1,name:"فبراير"},{id:2,name:"مارس"},{id:3,name:"ابريل"},{id:4,name:"مايو"},{id:5,name:"يونيو"},{id:6,name:"يوليو"},{id:7,name:"اغسطس"},{id:8,name:"سبتمبر"},{id:9,name:"اكتوبر"},{id:10,name:"نوفمبر"},{id:11,name:"ديسمبر"}]:e.monthes=[{id:0,name:"January"},{id:1,name:"February"},{id:2,name:"March"},{id:3,name:"April"},{id:4,name:"May"},{id:5,name:"June"},{id:6,name:"July"},{id:7,name:"August"},{id:8,name:"September"},{id:9,name:"October"},{id:10,name:"November"},{id:11,name:"December"}],e.$watch("ngModel",function(i){i?(i=new Date(i),e.model=e.model||{},e.model.selectedDay=site.addZero(i.getDate(),2),e.model.selectedMonth=e.monthes.find(e=>e.id==i.getMonth()),e.model.selectedYear=i.getFullYear(),$(t).attr("value",i.getTime()),e.ngModel1=new Date(i)):(e.model=e.model||{},e.model.selectedDay=null,e.model.selectedMonth=null,e.model.selectedYear=null,$(t).attr("value",""))}),e.setDay=function(){e.ngModel=new Date},e.updateDate=function(t){e.ngModel1&&(e.ngModel=e.ngModel1,e.editOnly=!1,e.ngChange&&e.ngChange())}},restrict:"E",require:"ngModel",scope:{v:"@",disabled:"@",label:"@",ngModel:"="},template:"/*##client-side/directive/i-date.html*/"}}),app.directive("iDatetime",function(){return{restrict:"E",required:"ngModel",scope:{v:"@",id2:"@",label:"@",type:"@",class2:"@",disabled:"@",ngModel:"=",ngChange:"&",ngKeydown:"&"},link:function(e,t,i){e.id2=e.id2||"input_"+Math.random().toString().replace("0.",""),e.v=e.v||"",e.requird="",e.v.like("*r*")&&(e.requird="*"),void 0!==i.disabled?i.disabled="disabled":i.disabled="",e.class2=e.class2||"",e.model={},e.lang=site.session?site.session.language.id:"En","Ar"===e.lang?e.monthes=[{id:0,name:"يناير"},{id:1,name:"فبراير"},{id:2,name:"مارس"},{id:3,name:"ابريل"},{id:4,name:"مايو"},{id:5,name:"يونيو"},{id:6,name:"يوليو"},{id:7,name:"اغسطس"},{id:8,name:"سبتمبر"},{id:9,name:"اكتوبر"},{id:10,name:"نوفمبر"},{id:11,name:"ديسمبر"}]:e.monthes=[{id:0,name:"January"},{id:1,name:"February"},{id:2,name:"March"},{id:3,name:"April"},{id:4,name:"May"},{id:5,name:"June"},{id:6,name:"July"},{id:7,name:"August"},{id:8,name:"September"},{id:9,name:"October"},{id:10,name:"November"},{id:11,name:"December"}],e.$watch("ngModel",function(i){i?(i=new Date(i),e.model=e.model||{},e.model.selectedDay=site.addZero(i.getDate(),2),e.model.selectedMonth=e.monthes.find(e=>e.id==i.getMonth()),e.model.selectedYear=i.getFullYear(),e.model.selectedHour=site.addZero(i.getHours(),2),e.model.selectedMinute=site.addZero(i.getMinutes(),2),e.ngModel1=new Date(i),e.ngModel2=new Date(0,0,0,i.getHours(),i.getMinutes()),$(t).attr("value",i.getTime())):(e.model=e.model||{},e.model.selectedDay=null,e.model.selectedMonth=null,e.model.selectedYear=null,e.model.selectedHour=null,e.model.selectedMinute=null,$(t).attr("value",""))}),e.setDay=function(){e.ngModel=new Date},e.updateDate=function(i){let n=$("#time_"+e.id2).val();e.ngModel1&&n&&(e.ngModel=new Date(e.ngModel1.getFullYear(),e.ngModel1.getMonth(),e.ngModel1.getDate(),n.split(":")[0],n.split(":")[1],0),e.editOnly=!1,$(t).attr("value",e.ngModel.getTime()),e.ngChange&&e.ngChange())}},restrict:"E",require:"ngModel",scope:{v:"@",disabled:"@",label:"@",ngModel:"="},template:"/*##client-side/directive/i-datetime.html*/"}}),app.directive("iFile",["$interval","isite","$timeout",function(e,t,i){return{restrict:"E",required:"ngModel",scope:{label:"@",view:"@",accept:"@",folder:"@",ngModel:"=",ngClick:"&",onSelected:"&",ngChange:"&"},link:function(e,n,a,l){e.label=e.label||"",e.folder=e.folder||"default",e.accept=e.accept?e.accept:"",e.viewOnly=void 0!==e.view;let d=$(n).find("input")[0],o=$(n).find("i-button")[0],s=$(n).find(".progress")[0],r=$(n).find(".progress-bar")[0];$(s).hide(),e.id=Math.random().toString().replace(".","_"),e.viewOnly||o.addEventListener("click",function(){d.click()}),d.addEventListener("change",function(){t.uploadFile(this.files,{folder:e.folder},(t,i,n)=>{n&&($(s).show(),e.value=n.loaded/n.total*100,r.style.width=e.value+"%",e.max=n.total,100===e.value&&$(s).hide()),i&&(e.ngModel=i,e.changed())}),e.ngModel=this.files[0].path,e.onSelected(this.files[0].path),e.$applyAsync()}),e.$watch("ngModel",e=>{e&&o.setAttribute("url",e)}),e.changed=function(){i(()=>{e.ngChange&&e.ngChange()},200)}},template:"/*##client-side/directive/i-file.html*/"}}]),app.directive("iImage",["$interval","isite","$timeout",function(e,t,i){return{restrict:"E",required:"ngModel",scope:{folder:"@",view:"@",accept:"@",ngModel:"=",ngClick:"&",ngChange:"&"},link:function(e,n,a,l){e.accept=e.accept?e.accept:"image/*",e.viewOnly=void 0!==e.view;let d=$(n).find("input")[0],o=$(n).find("img")[0],s=$(n).find(".progress")[0];$(s).hide(),e.upload=function(){e.viewOnly||d.click()},e.delete=function(){o.src=null,e.ngModel=null},d.addEventListener("change",function(){t.uploadImage(this.files,{folder:e.folder},(t,n,a)=>{a&&($(s).show(),e.value=a.loaded/a.total*100,e.max=a.total,$(s).css("width",e.value),100===e.value&&$(s).hide()),n&&(e.ngModel=n,e.ngChange&&i(()=>{e.ngChange()},200))})}),e.$watch("ngModel",e=>{e&&o.setAttribute("src",e.url)})},template:"/*##client-side/directive/i-image.html*/"}}]),app.directive("iAudio",["$interval","isite","$timeout",function(e,t,i){return{restrict:"E",required:"ngModel",scope:{folder:"@",view:"@",accept:"@",ngModel:"=",ngClick:"&",ngChange:"&"},link:function(e,n,a,l){e.folder=e.folder||"default",e.accept=e.accept?e.accept:".mp3",e.viewOnly=void 0!==e.view;let d=$(n).find("input")[0],o=$(n).find("audio")[0],s=$(n).find(".progress")[0];$(s).hide(),e.upload=function(){e.viewOnly||d.click()},e.delete=function(){e.ngModel=null,o.setAttribute("src",null)},d.addEventListener("change",function(){t.uploadAudio(this.files,{folder:e.folder},(t,n,a)=>{a&&($(s).show(),e.value=a.loaded/a.total*100,e.max=a.total,$(s).css("width",e.value),100===e.value&&$(s).hide()),n&&(e.ngModel=n,e.ngChange&&i(()=>{e.ngChange()},200))})}),e.$watch("ngModel",e=>{e&&(o.setAttribute("src",e.url),o.setAttribute("type","audio/mpeg"))})},template:"/*##client-side/directive/i-audio.html*/"}}]),app.directive("iVideo",["$interval","isite","$timeout",function(e,t,i){return{restrict:"E",required:"ngModel",scope:{folder:"@",view:"@",accept:"@",ngModel:"=",ngClick:"&",ngChange:"&"},link:function(e,n,a,l){e.folder=e.folder||"default",e.accept=e.accept?e.accept:".mp4",e.viewOnly=void 0!==e.view;let d=$(n).find("input")[0],o=$(n).find("video")[0],s=$(n).find(".progress")[0];$(s).hide(),e.upload=function(){e.viewOnly||d.click()},e.delete=function(){e.ngModel=null,o.setAttribute("src",null)},d.addEventListener("change",function(){t.uploadVideo(this.files,{folder:e.folder},(t,n,a)=>{a&&($(s).show(),e.value=a.loaded/a.total*100,e.max=a.total,$(s).css("width",e.value),100===e.value&&$(s).hide()),n&&(e.ngModel=n,e.ngChange&&i(()=>{e.ngChange()},200))})}),e.capture=function(){let t=document.createElement("canvas");t.width=o.videoWidth/4,t.height=o.videoHeight/4,t.getContext("2d").drawImage(o,0,0,t.width,t.height),e.ngModel.imageURL=t.toDataURL("image/jpeg")},o.addEventListener("canplay",function(t){i(()=>{e.capture()},2e3)},!1),e.$watch("ngModel",e=>{e&&(o.setAttribute("src",e.url),o.setAttribute("type","video/mp4"),o.load())})},template:"/*##client-side/directive/i-video.html*/"}}]),app.directive("iUpload",["$interval","isite",function(e,t){return{restrict:"E",scope:{label:"@",api:"@",type:"@",view:"@",ngClick:"&",onUploaded:"&"},link:function(e,i,n,a){let l=$(i).find("input")[0],d=$(i).find("button")[0],o=$(i).find("progress")[0];$(o).hide(),""!==n.view&&d.addEventListener("click",function(){l.click()}),l.addEventListener("change",function(){e.api&&t.upload(this.files,{api:e.api},(t,i,n)=>{n?($(o).show(),o.value=n.loaded,o.max=n.total):i&&e.onUploaded&&e.onUploaded({$data:i})})})},template:"/*##client-side/directive/i-upload.html*/"}}]),app.directive("iTreeview",["$interval","$timeout","isite",function(e,t,i){return{restrict:"E",require:"ngModel",scope:{v:"@",label:"@",display:"@",display2:"@",disabled:"@",space:"@",primary:"@",ngValue:"@",ngModel:"=",ngSearch:"=",ngChange:"&",ngClick:"&",ngAdd:"&",ngNode:"&",ngEdit:"&",ngDelete:"&",nodes:"="},link:function(e,t,i,n){i.display=i.display||"name",i.primary=i.primary||"id",i.space=i.space||" ",i.ngValue=i.ngValue||"",e.source={},e.setNodes=function(t){t.nodes.forEach(t=>{t.nodes=t.nodes||[],e.nodes.forEach(e=>{if(e.$parent_id==t.id){e.v_display=e.v_display||"",e.v_display+=e[i.display];let n=!1;t.nodes.forEach(t=>{t.id==e.id&&(n=!0)}),n||t.nodes.push(e)}}),e.setNodes(t)})},e.v_nodes=[],e.$watch("ngModel",t=>{t&&(e.ngModel=t,e.ngModel.v_display=e.ngModel.v_display||t[i.display])}),e.$watch("nodes",t=>{e.v_nodes=[],t&&(t.forEach(t=>{if(t.$parent_id=t.parent_id||t.parentId||0,t.v_display=t.v_display||"",t.v_display+=t[i.display],0==t.$parent_id){let i=!1;e.v_nodes.forEach(e=>{e.id==t.id&&(i=!0)}),i||e.v_nodes.push(t)}}),e.v_nodes.forEach(n=>{n.nodes=n.nodes||[],t.forEach(e=>{if(e.$parent_id=e.parent_id||e.parentId||0,e.$parent_id==n.id){e.v_display=e.v_display||"",e.v_display+=e[i.display];let t=!1;n.nodes.forEach(i=>{i.id==e.id&&(t=!0)}),t||n.nodes.push(e)}}),e.setNodes(n)}))})},template:"/*##client-side/directive/i-treeview.html*/"}}]),app.directive("iTreenode",["$interval","$timeout","isite",function(e,t,i){return{restrict:"E",require:"ngModel",scope:{v:"@",label:"@",display:"@",display2:"@",disabled:"@",space:"@",primary:"@",ngValue:"@",ngChange:"&",ngClick:"&",ngAdd:"&",ngEdit:"&",ngDelete:"&",ngModel:"=",ngSearch:"=",nodes:"=",nodes:"="},link:function(e,t,i,n){i.display=i.display||"name",i.primary=i.primary||"id",i.space=i.space||" ",i.ngValue=i.ngValue||"",e.nodes=e.nodes||[],e.v_nodes=[],e.$watch("nodes",t=>{e.v_nodes=[],t&&t.forEach((e,t)=>{e.nodes&&e.nodes.forEach((t,n)=>{t.$parent_id=t.parent_id||e.id,t.v_display=e.v_display||" ",t.v_display+=" - "+t[i.display]})})}),e.updateParentModal=function(t,i){t&&(t.ngModel=i,t.$parent&&e.updateParentModal(t.$parent,i))},e.unSelectParent=function(t){t&&t.nodes&&(t.nodes.forEach(e=>{e.$selected=!1}),t.$parent&&e.unSelectParent(t.$parent))},e.unSelectNodes=function(t){t&&t.forEach(t=>{t.$selected=!1,t.nodes&&e.unSelectNodes(t.nodes)})},e.updateModal=function(t){e.ngModel=t,e.updateParentModal(e.$parent,t)},e.selected=function(t){e.unSelectParent(e.$parent),e.unSelectNodes(e.nodes),t.nodes&&t.nodes.forEach(e=>{e.$selected=!1}),t.$selected=!0}},template:"/*##client-side/directive/i-treenode.html*/"}}]);